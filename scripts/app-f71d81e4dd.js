/******/!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}// webpackBootstrap
/******/
var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var i=n(1),a=o(i),l=n(2),r=o(l),s=n(3),u=o(s),c=n(4),p=o(c),d=n(5),f=o(d);angular.module("loopMaster",["ngAnimate","ngTouch","ui.router","ngMaterial"]).directive("looper",function(){return new f["default"]}).config(a["default"]).config(r["default"]).run(u["default"]).controller("MainController",p["default"])},function(t,e){"use strict";function n(t){"ngInject";t.debugEnabled(!0)}Object.defineProperty(e,"__esModule",{value:!0}),n.$inject=["$logProvider"],e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function n(t,e){"ngInject";t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),e.otherwise("/")}Object.defineProperty(e,"__esModule",{value:!0}),n.$inject=["$stateProvider","$urlRouterProvider"],e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function n(t){"ngInject";t.debug("runBlock end")}Object.defineProperty(e,"__esModule",{value:!0}),n.$inject=["$log"],e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function i(){"ngInject";n(this,i)};e["default"]=o,t.exports=e["default"]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function l(){"ngInject";n(this,l);var t={restrict:"E",templateUrl:"app/components/looper/looper.html",controller:a,controllerAs:"looper",bindToController:!0};return t},a=function(){function t(e){"ngInject";var o=this;n(this,t),this.signature={top:4,bottom:4},this.position={tick:0,bar:0},this.playing=this.paused=!1,this.bpm=120,this.bpmInstance=bpm.init({bpm:this.bpm,signature:this.getSignature(),onTick:function(t){return o.onTick(t)}}),this.$scope=e,this.$scope.$watch("looper.bpm",function(t,e){t&&e&&t!==e&&o.onBPMChanged()},!0),this.$scope.$watch("looper.signature",function(t,e){t&&e&&t!==e&&o.onSignatureChanged()},!0)}return t.$inject=["$scope"],o(t,[{key:"listTicks",value:function(){for(var t=[],e=0;e<this.signature.top;e++)t.push(e);return t}},{key:"isTickActive",value:function(t){var e=this.position.tick;return e+1>t&&(this.isPlaying()||this.isPaused())}},{key:"getSignature",value:function(){return[this.signature.top,this.signature.bottom]}},{key:"togglePlay",value:function(){this.isPlaying()?this.pause():this.play()}},{key:"onTick",value:function(t){var e=this;this.$scope.$apply(function(){e.position=t||{tick:0,bar:0}})}},{key:"isPlaying",value:function(){return this.playing}},{key:"isPaused",value:function(){return this.paused}},{key:"play",value:function(){this.playing=!0,this.paused=!1,this.bpmInstance.play()}},{key:"pause",value:function(){this.playing=!1,this.paused=!0,this.bpmInstance.pause()}},{key:"stop",value:function(){this.playing=!1,this.position={tick:0,bar:0},this.bpmInstance.stop()}},{key:"onBPMChanged",value:function(){this.bpmInstance.setBPM(this.bpm)}},{key:"onSignatureChanged",value:function(){this.bpmInstance.setSignature(this.getSignature())}}]),t}();e["default"]=i,t.exports=e["default"]}]),angular.module("loopMaster").run(["$templateCache",function(t){t.put("app/main/main.html",'<div layout="vertical" layout-fill=""><md-content layout-align="center center" layout="column"><header><h1 class="md-display-3">Looper Master</h1></header><looper layout-align="center center" layout-wrap="" flex="75"></looper><footer layout-align="center end" flex="50">This application was realised thanks to <a href="https://github.com/pbellon/BPMjs">BPMjs</a>, a library to deal with tempo in JavaScript</footer></md-content></div>'),t.put("app/components/looper/looper.html",'<div class="looper" layout-fill="" layout="column"><div class="looper__screen"><div class="looper__position"><span>{{ looper.position.tick + 1}}</span>:<span>{{ looper.position.bar}}</span></div><ul class="looper__ticks"><li class="looper__tick" ng-repeat="tick in looper.listTicks()" ng-class="looper.isTickActive($index) ? \'looper__tick--active\' : \'\'"></li></ul></div><md-input-container layout-fill=""><label>BPM</label> <input type="number" min="1" max="320" ng-model="looper.bpm" aria-label="{{ looper.bpm }}"></md-input-container><md-input-container><label>Beats per bar</label> <input type="number" ng-model="looper.signature.top"></md-input-container><div layout="row" layout-align="end end"><md-button layout-align="end end" class="md-fab md-mini" aria-label="Stop looper" ng-click="looper.stop()"><md-icon class="material-icons">stop</md-icon></md-button><md-button layout-align="end end" class="md-fab md-mini" aria-label="Play/Pause looper" ng-click="looper.togglePlay()"><md-icon ng-show="!looper.isPlaying()" class="material-icons">play_arrow</md-icon><md-icon ng-show="looper.isPlaying()" class="material-icons">pause</md-icon></md-button></div></div>')}]);