/******/!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}// webpackBootstrap
/******/
var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var i=n(1),a=o(i),r=n(2),l=o(r),s=n(3),u=o(s),c=n(4),p=o(c),d=n(5),f=o(d);angular.module("loopMaster",["ngAnimate","ngTouch","ui.router","ngMaterial"]).directive("looper",function(){return new f["default"]}).config(a["default"]).config(l["default"]).run(u["default"]).controller("MainController",p["default"])},function(e,t){"use strict";function n(e){"ngInject";e.debugEnabled(!0)}Object.defineProperty(t,"__esModule",{value:!0}),n.$inject=["$logProvider"],t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){"ngInject";e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),t.otherwise("/")}Object.defineProperty(t,"__esModule",{value:!0}),n.$inject=["$stateProvider","$urlRouterProvider"],t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e){"ngInject";e.debug("runBlock end")}Object.defineProperty(t,"__esModule",{value:!0}),n.$inject=["$log"],t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function i(){"ngInject";n(this,i)};t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function r(){"ngInject";n(this,r);var e={restrict:"E",templateUrl:"app/components/looper/looper.html",controller:a,controllerAs:"looper",bindToController:!0};return e},a=function(){function e(t){"ngInject";var o=this,i=arguments;n(this,e),this.signature={top:4,bottom:4},this.position={tick:0,bar:0},this.playing=!1,this.bpm=120,this.bpmInstance=bpm.init({bpm:this.bpm,signature:this.getSignature(),onTick:function(e){return o.onTick(e)}}),this.$scope=t,this.$scope.$watch("looper.bpm",function(e,t){e&&t&&e!==t&&(console.log("oldval",t,"newVal: ",e),o.onBPMChanged())},!0),this.$scope.$watch("looper.signature",function(e,t){e&&t&&e!==t&&o.onSignatureChanged(i)},!0)}return e.$inject=["$scope"],o(e,[{key:"getSignature",value:function(){return[this.signature.top,this.signature.bottom]}},{key:"togglePlay",value:function(){this.isPlaying()?this.pause():this.play()}},{key:"onTick",value:function(e){console.log("onTick: ",e),this.position=e||{tick:0,bar:0},this.$scope.$digest()}},{key:"isPlaying",value:function(){return this.playing}},{key:"play",value:function(){this.playing=!0,this.bpmInstance.play()}},{key:"pause",value:function(){this.playing=!1,this.bpmInstance.pause()}},{key:"stop",value:function(){this.playing=!1,this.position={tick:0,bar:0},this.bpmInstance.stop()}},{key:"onBPMChanged",value:function(){console.log("onBPMChanged",arguments),this.bpmInstance.setBPM(this.bpm)}},{key:"onSignatureChanged",value:function(){console.log("onSignatureChanged"),this.bpmInstance.setSignature(this.getSignature())}}]),e}();t["default"]=i,e.exports=t["default"]}]),angular.module("loopMaster").run(["$templateCache",function(e){e.put("app/main/main.html",'<div layout="vertical" layout-fill=""><md-content><header><h1>Uber title for deh loop</h1></header><div class="main"><looper></looper></div></md-content></div>'),e.put("app/components/looper/looper.html",'<div class="looper"><div class="looper__screen row"><div class="looper__position"><span>{{ looper.position.tick}}</span>:<span>{{ looper.position.bar}}</span></div><div class="looper__screen__ticks"></div></div><md-input-container><label>BPM</label> <input type="number" min="1" max="320" ng-model="looper.bpm" aria-label="{{ looper.bpm }}"></md-input-container><md-input-container><label>Beats per bar</label> <input type="number" ng-model="looper.signature.top"></md-input-container><md-button class="md-fab" aria-label="Stop looper" ng-click="looper.stop()"><md-icon class="material-icons">stop</md-icon></md-button><md-button class="md-fab" aria-label="Play/Pause looper" ng-click="looper.togglePlay()"><md-icon ng-show="!looper.isPlaying()" class="material-icons">play_arrow</md-icon><md-icon ng-show="looper.isPlaying()" class="material-icons">pause</md-icon></md-button></div>')}]);